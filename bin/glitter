#!/usr/bin/ruby
$: << File.expand_path(File.dirname(__FILE__) + '/../lib')
require 'rubygems'

$: << File.expand_path(File.dirname(__FILE__) + '/../../gli/lib') 
require 'gli'
include GLI

Dir['lib/commands/*.rb'].each {|file| load file}

on_error do |ex|
  puts "ERR #{ex.message}"
  true
end

pre do |global_options,command,options,args|
  puts "PRE #{command.to_s}"
  true
end

post do |global_options,command,options,args|
  puts "POST #{command.to_s}"
end

GLI.run(ARGV)
